//STM32F407VGT6 ports A&D connected to AHB1//Where are LED's connected
//Program enables ADC driver and prints value read to UART
//FTDI Orange is Tx connected to PA3 Rx of micro
//FTDI Yellow is Rx connected to PA2 Tx of micro

//Looking at alternate function map in data sheet USART2 TX is PA2 Pin 25 and RX is PA3 Pin  26

#include <stdio.h>   /************************needed for printf*************************/
#include <stdint.h>
#include "stm32f4xx.h"
#include "uart.h"
#include "adc.h"

uint32_t sensor_value;

int main(void)
{
	uart2_tx_init();
	pa1_adc_init();
	start_conversion();


	while(1)
	{

		sensor_value = adc_read();
		printf("Sensor value : %d \n\r", (int)sensor_value);
	}
}

